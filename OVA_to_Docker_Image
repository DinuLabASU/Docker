## How to Convert a Virtual Machine OVA file to a Docker Image

<b>Prepare environment (Ubuntu 16.04) by installing necessary packages</b>
<code>sudo apt-get update
sudo apt-get install qemu-utils
sudo apt-get install libguestfs-tools
sudo apt-get install docker.io</code>

<b>Retrieve the OVA file</b>
<code>wget url_to_OVA_file</code>
Note: rename the file if needed using the mv command

<b>Extract the VMDK file from the OVA file</b>

<code>tar -xvf MY_VM.OVA</code>

<b>Convert .VMDK to a Docker Image
<code>qemu-img convert -f vmdk -O raw MY-VM-disk1.vmdk MY-OUT.img</code>

<b>Apply Guestfish (please sudo su to enter root before proceeding)</b>
<code>$ ><fs> list-filesystems</code>
<code>/dev/sda1: ext4</code>
<code>/dev/VolGroup/lv_root: ext4</code>
<code>/dev/VolGroup/lv_swap: swap</code>
<code>$ ><fs> mount /dev/VolGroup/lv_root /</code>
<code>$ ><fs> tar-out / - | xz --best >>  mytry.xz</code>
<code>$ ><fs> exit</code>

<b>Import into Docker</b>
<code>mytry.xz | docker import - your_repo_name/mytryimage:latest</code>

<b>Look inside the Container</b>
docker run -it your_repo_name/mytryimage:latest bash

<b>Note:</b> The whole process can take as long as 12 hrs and more, depending on the network connection. 
Always allocate at least 100 GB of hard disk space and at least 58 GB RAM


